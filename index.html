<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="utf-8">
    <title>App</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://copy-customdemo-astra.surv.biz/digi_runner.js"></script>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KZZWSXH');</script>
    <!-- End Google Tag Manager -->
</head>
<body>

<button id="id_click_id" onclick="test()"> id_click_id </button>
<button>button</button>

<script>
    var customerId = 'zu66FVdAjdsAZi74'+ Math.floor(Math.random() * Math.floor(9999))

    setTimeout(() => {
        console.log('--------window.google_tag_manager---------', window.google_tag_manager)
    }, 1000)

    function test() {
        console.log('--------window.dataLayer---------', window.dataLayer)
        dataLayer.push({'var': customerId});

        SetParameters()
    }

    function SetParameters() {
        window.VocSignal_SendEvent && window.VocSignal_SendEvent('SetParameters', {
            apiUrl: 'https://copy-customdemo-astra.surv.biz',
            language: 'en',
            customerId: 'zu66FVdAjdsAZi74'+ Math.floor(Math.random() * Math.floor(9999)),
            surveyId: 1083
        });
    }

    SetParameters()

</script>


<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KZZWSXH"
                  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
</body>
</html>
